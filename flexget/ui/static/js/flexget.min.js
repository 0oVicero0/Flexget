"use strict";function bootstrapApplication(){angular.element(document).ready(function(){angular.bootstrap(document,["flexgetApp"])})}function registerFlexModule(module){angular.module("flexgetApp").requires.push(module.name)}function register_menu(href,caption,icon,order){href="/ui/#"+href,app.menu.push({href:href,caption:caption,icon:icon,order:order})}function register_route(name,url,controller,template){app.routes.push({name:name,url:url,controller:controller,template:template})}var app=angular.module("flexgetApp",["ui.router","ngMaterial"]);app.config(function($stateProvider,$urlRouterProvider,$mdThemingProvider,$mdIconProvider){$mdIconProvider.fontSet("fa","fa"),$mdThemingProvider.theme("default").primaryPalette("orange"),$urlRouterProvider.otherwise("/home");for(var currentRoute,j=0;j<app.routes.length;j++)currentRoute=app.routes[j],$stateProvider.state(currentRoute.name,{url:currentRoute.url,templateUrl:currentRoute.template,controller:currentRoute.controller})}),bootstrapApplication(),String.prototype.startsWith=function(prefix){return 0===this.indexOf(prefix)},app.menu=[],app.routes=[],app.controller("flexgetCtrl",function($scope,$http,$mdSidenav,$state,$mdMedia,$mdDialog){$scope.menuItems=app.menu,$scope.toggleMenu=function(){$mdSidenav("left").isLockedOpen()?$scope.menuMini=!$scope.menuMini:($scope.menuMini=!1,$mdSidenav("left").toggle())},$scope.closeNav=function($event){$mdMedia("gt-lg")||$mdSidenav("left").close()},$scope.go=function(state){$state.go(state)},$scope.reload=function(){var reloadController=function($scope,$mdDialog){$scope.title="Reload Config",$scope.showCircular=!0,$scope.content=null,$scope.buttons=[],$scope.ok=null,$scope.hide=function(){$mdDialog.hide()};var done=function(text){$scope.showCircular=!1,$scope.content=text,$scope.ok="Close"};$http.get("/api/server/reload/").success(function(data,status,headers,config){done("Reload Success")}).error(function(data,status,headers,config){done("Reload failed: "+data.error)})};$mdDialog.show({templateUrl:"static/partials/dialog_circular.html",parent:angular.element(document.body),controller:reloadController})};var doShutdown=function(){window.stop();var shutdownController=function($scope,$mdDialog){$scope.title="Shutting Down",$scope.showCircular=!0,$scope.content=null,$scope.buttons=[],$scope.ok=null,$scope.hide=function(){$mdDialog.hide()};var done=function(text){$scope.title="Shutdown",$scope.showCircular=!1,$scope.content=text,$scope.ok="Close"};$http.get("/api/server/shutdown/").success(function(data,status,headers,config){done("Flexget has been shutdown")}).error(function(data,status,headers,config){done("Flexget failed to shutdown failed: "+data.error)})};$mdDialog.show({templateUrl:"static/partials/dialog_circular.html",parent:angular.element(document.body),controller:shutdownController})};$scope.shutdown=function(){$mdDialog.show($mdDialog.confirm().parent(angular.element(document.body)).title("Shutdown").content("Are you sure you want to shutdown Flexget?").ok("Shutdown").cancel("Cancel")).then(function(){doShutdown()})}}),app.requires.push("http-auth-interceptor"),app.controller("LoginController",function($scope,$http,$mdDialog,authService){$scope.error="";var doLogin=function(){var LoginModalController=function($scope){$scope.error="",$scope.credentials={username:"",password:""},$scope.login=function(){$http.post("/api/login/",$scope.credentials).success(function(){authService.loginConfirmed()}).error(function(data){$scope.credentials.password="","message"in data?$scope.error=data.message:$scope.error="Error during authentication"})}};$mdDialog.show({templateUrl:"static/partials/login.html",parent:angular.element(document.body),controller:LoginModalController})},closeLogin=function(){$mdDialog.hide()};$scope.$on("event:auth-loginRequired",doLogin),$scope.$on("event:auth-loginConfirmed",closeLogin)}),app.directive("pageHeader",function(){return{restrict:"AE",replace:"true",template:'<section class="content-header"><h1>{{title }}<small>{{ description }}</small></h1></section>'}});var app=angular.module("flexgetApp");app.service("modalService",["$modal",function($modal){var defaultOptions={backdrop:!0,keyboard:!0,modalFade:!0,size:"md",templateUrl:"/ui/static/partials/modal.html",headerText:"Proceed?",bodyText:"Perform this action?",okText:"Ok",okType:"primary",closeText:"Cancel",closeType:"default"};this.showModal=function(options){var tempOptions={};return angular.extend(tempOptions,defaultOptions,options),tempOptions.controller||(tempOptions.controller=function($scope,$modalInstance){$scope.modalOptions=tempOptions,$scope.ok=function(result){$modalInstance.close(result)},$scope.close=function(result){$modalInstance.dismiss("cancel")}}),$modal.open(tempOptions).result}}]);
//# sourceMappingURL=flexget.min.js.map
