<md-list-item flex>
  <md-card-title flex="initial">
    <md-card-title-text>
      {{ ::vm.episode.episode_identifier }}
    </md-card-title-text>
  </md-card-title>
  <md-card-content flex>
    <md-button ng-disabled="vm.episode.episode_number_of_releases == 0" flex ng-click="vm.toggleReleases()">
      Releases
      <md-icon md-font-set="fa fa-chevron-down" class="md-toggle-icon" ng-class="{ 'toggled' : vm.isOpen() }"></i></md-icon>
    </md-button>
    <md-card-actions>
      <md-button ng-click="vm.deleteEpisode()">
        Delete Episode
      </md-button>
      <md-button ng-click="vm.deleteReleases()">
        Delete Releases
      </md-button>
      <md-button ng-click="vm.resetReleases()">
        Reset Releases
      </md-button>
    </md-card-actions>
    <md-list flex ng-show="vm.isOpen()" class="releases-toggle-list">
      <md-list-item ng-repeat="release in vm.releases | orderBy : 'release_downloaded' : true" class="md-2-line">
        <div class="md-list-item-text">
          <h3 class="release-title">
            <i ng-if="release.release_downloaded" class="fa fa-download"></i> {{ ::release.release_title }}
          </h3>
          <p>{{ ::release.release_quality }}</p>
        </div>
        <md-button ng-click="vm.resetRelease(release.release_id)" ng-if="release.release_downloaded" class="md-icon-button">
          <i class="fa fa-refresh" aria-hidden="true"></i>
        </md-button>
        <md-button ng-click="vm.forgetRelease(release)" class="md-icon-button">
          <i class="fa fa-trash" aria-hidden="true"></i>
        </md-button>

      </md-list-item>
    </md-list>
  </md-card-content>
</md-list-item>
